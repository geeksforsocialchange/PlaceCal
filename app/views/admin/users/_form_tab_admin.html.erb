<%# Admin Tab - Role and Danger Zone %>
<div class="space-y-8">
  <%# Role Selection %>
  <div class="max-w-xl">
    <fieldset class="fieldset">
      <legend class="fieldset-legend"><%= attr_label(:user, :role) %></legend>
      <%= render Admin::RadioCardGroupComponent.new(
        form: f,
        attribute: :role,
        values: User.role.values,
        label_method: method(:role_label)
      ) %>
    </fieldset>
  </div>

  <%# Danger Zone %>
  <% if policy(@user).destroy? %>
    <% if @user.site_admin? %>
      <div class="card bg-base-200/50 border border-base-300">
        <div class="card-body p-4">
          <h3 class="font-semibold flex items-center gap-2 text-base-content/70">
            <%= icon(:warning, size: '5') %>
            <%= t('admin.danger_zone.delete_title', model: User.model_name.human) %>
          </h3>
          <p class="text-sm text-base-content/60 mt-2"><%= t('admin.users.danger_zone.site_admin_warning') %></p>
        </div>
      </div>
    <% else %>
      <%= render Admin::DangerZoneComponent.new(
        title: t('admin.danger_zone.delete_title', model: User.model_name.human),
        description: t('admin.danger_zone.delete_description', model: User.model_name.human.downcase),
        button_text: t('admin.actions.delete_model', model: User.model_name.human),
        button_path: admin_user_path(@user),
        confirm: t('admin.confirm.delete_permanent', model: User.model_name.human.downcase)
      ) %>
    <% end %>
  <% end %>
</div>
