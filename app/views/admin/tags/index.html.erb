<%= render partial: 'layouts/admin/datatable', locals: {
    title: 'Tags',
    model: :tags,
    column_titles: [
      'Tag',
      'Type',
      'Description',
      'System',
      'Partners',
      'Last Updated',
      ''
    ],
    columns: %i[name type description system_tag partners_count updated_at actions],
    column_config: {
      name: {},
      type: { fit: true },
      description: {},
      system_tag: { align: :center, sortable: true, fit: true },
      partners_count: { align: :center, sortable: false, fit: true },
      updated_at: { fit: true },
      actions: { sortable: false, fit: true }
    },
    default_sort: { column: 'updated_at', direction: 'desc' },
    filters: [
      {
        column: 'type',
        label: 'Type',
        width: 'w-36',
        options: [
          { value: 'Category', label: 'Category' },
          { value: 'Partnership', label: 'Partnership' },
          { value: 'Facility', label: 'Facility' }
        ]
      },
      {
        column: 'system_tag',
        label: 'System Tag',
        width: 'w-36',
        options: [
          { value: 'yes', label: 'System tags' },
          { value: 'no', label: 'User-created' }
        ]
      },
      {
        column: 'has_partners',
        label: 'Partners',
        width: 'w-36',
        options: [
          { value: 'yes', label: 'Has partners' },
          { value: 'no', label: 'No partners' }
        ]
      }
    ],
    data: @tags,
    source: admin_tags_path(format: :json),
    new_link: (new_admin_tag_path if current_user.role.root?)
  }
%>
