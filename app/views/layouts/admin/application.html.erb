<!DOCTYPE html>
<html>
  <head>
    <title><%= "#{yield(:title)} | " if content_for?(:title) %>PlaceCal Admin</title>
    <%= csrf_meta_tags %>

    <link rel="stylesheet" href="/assets/tom-select.css" media="all" data-turbo-track="reload">
    <link rel="stylesheet" href="/assets/admin_tailwind.css" media="all" data-turbo-track="reload">

    <%# Admin JS loaded via importmap - native ES modules, no build step %>
    <%# Changes to controllers take effect immediately on browser refresh %>
    <%= javascript_importmap_tags %>

    <%= render "layouts/meta" %>
  </head>

  <body class="bg-gray-50">
    <%= render "layouts/admin/admin_topbar" %>

    <div class="flex pt-14">
      <nav class="hidden md:block w-56 fixed h-screen bg-gray-100 border-r border-gray-200">
        <div class="py-4">
          <%= render "layouts/admin/admin_leftbar" %>
        </div>
      </nav>
      <main role="main" class="flex-1 md:ml-56 min-h-screen px-6 py-4">
        <%= render(Admin::FlashComponent.new) %>
        <%= yield %>

        <% if Rails.env.development? %>
          <div class="font-mono text-gray-500 mt-8 text-sm">
            <%= debug(params) %>
          </div>
        <% end %>
      </main>
    </div>
  </body>
</html>
