<% if current_page?(root_url) && @site&.slug == 'default-site' %>
  <% title = 'PlaceCal | The Community Calendar' %>
<% elsif content_for?(:title) && @site&.name %>
  <% title = yield(:title) + " | " + @site.name %>
<% elsif content_for?(:title) %>
  <% title = yield(:title) %>
<% elsif @site&.name %>
  <% title = @site.name %>
<% else %>
  <% title = 'PlaceCal | The Community Calendar' %>
<% end %>

<title><%= title %></title>
<meta property="og:title" content="<%= title %>">
<meta property="og:site_name" content="<%= @site&.name || 'PlaceCal' %>">

<link rel="icon" type="image/png" href="<%= image_url('favicon.png') %>">
<link rel="apple-touch-icon" href="<%= image_url('apple-touch-icon.png') %>">
<meta name="viewport" content="width=device-width, initial-scale=1">

<% if content_for?(:description) %>
  <% description = yield(:description) %>
<% else %>
  <% description = t('meta.description', site: @site&.name ) %>
<% end %>

<meta property="description" content="<%= description %>">
<meta property="og:description" content="<%= description %>">

<% if content_for?(:image) %>
  <meta property="og:image" content="<%= image_url yield(:image) %>">
<% else %>
  <meta property="og:image" content="<%= image_url 'og/wide.png' %>">
  <meta property="og:image:alt" content="PlaceCal logo">
  <meta property="og:image:width" content="1920">
  <meta property="og:image:height" content="1080">
<% end %>

<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@PlaceCal">
<meta name="twitter:creator" content="@gfscstudio">

<meta property="og:url" content="<%= request.original_url %>">
