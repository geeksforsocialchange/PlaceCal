<div class="nested-fields py-3 bg-base-200 rounded-lg mb-2"
     data-controller="cascading-neighbourhood"
     data-cascading-neighbourhood-country-value="9402">

  <div class="flex gap-2 items-end">
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 flex-1">
      <fieldset class="fieldset">
        <legend class="fieldset-legend text-xs"><%= t('admin.components.cascading_neighbourhood.region') %></legend>
        <select class="select select-bordered select-sm w-full"
                data-cascading-neighbourhood-target="region"
                data-action="change->cascading-neighbourhood#regionChanged">
          <option value=""><%= t('admin.components.cascading_neighbourhood.loading') %></option>
        </select>
      </fieldset>

      <fieldset class="fieldset">
        <legend class="fieldset-legend text-xs"><%= t('admin.components.cascading_neighbourhood.area') %></legend>
        <select class="select select-bordered select-sm w-full"
                data-cascading-neighbourhood-target="district"
                data-action="change->cascading-neighbourhood#districtChanged"
                disabled>
          <option value=""><%= t('admin.components.cascading_neighbourhood.select_area') %></option>
        </select>
      </fieldset>

      <fieldset class="fieldset">
        <legend class="fieldset-legend text-xs"><%= t('admin.components.cascading_neighbourhood.ward') %></legend>
        <select class="select select-bordered select-sm w-full"
                data-cascading-neighbourhood-target="ward"
                data-action="change->cascading-neighbourhood#wardChanged"
                disabled>
          <option value=""><%= t('admin.components.cascading_neighbourhood.select_ward') %></option>
        </select>
      </fieldset>
    </div>

    <div class="flex items-center gap-1 pb-1">
      <span class="loading loading-spinner loading-xs hidden" data-cascading-neighbourhood-target="loading"></span>
      <% if show_remove %>
        <%= helpers.nested_form_remove_link(form, icon(:trash, size: '4'), class: 'btn btn-ghost btn-sm btn-square text-error') %>
      <% end %>
    </div>
  </div>

  <% if relation_type.present? %>
    <%= form.hidden_field :relation_type, value: relation_type %>
  <% end %>
  <%= form.hidden_field :neighbourhood_id, data: { cascading_neighbourhood_target: "output" } %>
</div>
